# Go API Server for openapi

A draft proposal from [Easy Dynamics](https://www.easydynamics.com) of a REST API specification for interacting
  with [OSCAL](https://pages.nist.gov/OSCAL/) models.

Standardized data models like OSCAL lay the groundwork for interoperability of systems, and an ecosystem of
meaningful integrations can be brought to life through a standardized REST API. That interface needs to define
simple CRUD operations, but should also describe how to manipulate relationships and make partial changes.

Such an API will likely see the most success across various vendors and projects when maintained by a
standards body or community, and we're looking to get that conversation started with this effort.

## Identifier Scope
Note that all object identifiers are **scoped to the system** implementing the REST API
  and are expected to be unique.

<details>
  <summary>Example</summary>
  To associate a Party with a known Component Definition with a UUID you might:
  1. Search for the Party:
      ```
      GET /parties/search?query=bob
      ```
      ```
      [
        {
          \"uuid\": \"d834ed5e-9652-4b78-87e7-a9f8686f4e60\",
          \"type\": \"person\",
          \"name\": \"Bob Johnson\"
        }
      ]
      ```
  2. Use the found Party's ID to associate with the component definition:
      ```
      PUT /component-definitions/599b6fa5-3e18-4580-bd8f-8a181776c6e8/parties/d834ed5e-9652-4b78-87e7-a9f8686f4e60
      ```
</details>

## Partial Payloads in PATCH Requests
All updates to 'root' OSCAL objects via `PATCH` requests should accept a partial payload containing
only the changed data and the entire updated object should be returned.

The UUID of the root object must not change in the payload and implementations should throw an error
if such a request is made.
<details>
  <summary>Example</summary>
  Example request:
  ```
  PATCH /system-security-plans/cff8385f-108e-40a5-8f7a-82f3dc0eaba8
  {
    \"system-security-plan\": {
      \"uuid\": \"cff8385f-108e-40a5-8f7a-82f3dc0eaba8\",
      \"metadata\": {
        \"title\": \"Some New Title\"
      }
    }
  }
  ```
</details>


## Overview
This server was generated by the [openapi-generator]
(https://openapi-generator.tech) project.
By using the [OpenAPI-Spec](https://github.com/OAI/OpenAPI-Specification) from a remote server, you can easily generate a server stub.
-

To see how to make this your own, look here:

[README](https://openapi-generator.tech)

- API version: 0.1.0
- Build date: 2022-05-04T15:34:42.059567Z[Etc/UTC]

### Running the server

To run the server, follow these simple steps:

```
go run main.go
```

To run the server in a docker container
```
docker build --network=host -t openapi .
```

Once the image is built, just run
```
docker run --rm -it openapi
```

### Known Issue

Endpoints sharing a common path may result in issues. For example, `/v2/pet/findByTags` and `/v2/pet/:petId` will result in an issue with the Gin framework. For more information about this known limitation, please refer to [gin-gonic/gin#388](https://github.com/gin-gonic/gin/issues/388) for more information.

A workaround is to manually update the path and handler. Please refer to [gin-gonic/gin/issues/205#issuecomment-296155497](https://github.com/gin-gonic/gin/issues/205#issuecomment-296155497) for more information.
